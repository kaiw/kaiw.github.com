
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Life as a GTK+ App Developer - Ambivalent Certainty</title>
  <meta name="author" content="Kai Willadsen">

  
  <meta name="description" content="The GTK+ 3 port of Meld was developed against 3.8, targetting 3.6. When I
started doing the port, 3.8 was what was available in current distributions &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kaiw.github.com/blog/2015/01/04/life-as-a-gtk-app-developer">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ambivalent Certainty" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33028331-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Ambivalent Certainty</a></h1>
  
    <h2>One of these options <em>must</em> be correct</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kaiw.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Life as a GTK+ App Developer</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-04T07:09:00+10:00" pubdate data-updated="true">Jan 4<span>th</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>The GTK+ 3 port of Meld was developed against 3.8, targetting 3.6. When I
started doing the port, 3.8 was what was available in current distributions,
so it seemed reasonable to expect that by the time the port was done, many
users would have access to it. In fact, it took way longer than I&rsquo;d hoped and
the GTK+ 3 port was released at about the same time as GTK+ 3.14 came out,
which then broke everything.</p>

<h2>GtkTextView/GtkSourceView painting</h2>

<p>Drawing in GtkTextView and GtkSourceView changed to use a new API involved
drawing of layers, and changed how the background was drawn. The new API is
actually really nice and will be great to use, but&hellip;</p>

<p>&hellip;well, it broke everything. The custom painting that Meld does all over the
textview was broken, and because the background clearing was a theme-specific
change, it broke differently in different themes.</p>

<p>Oh, and don&rsquo;t worry! All of this was completely unannounced. I found out about
the layer drawing by reading a random blog post <em>after</em> the release of 3.14
mentioning that it might be useful for another application. It will be too&hellip;
one day.</p>

<h2>Images in dialogs</h2>

<p>Dialogs used to be guaranteed to have an image if a message-type was set. This
is no longer the case, so any code that assumed that there was going to be an
image there just breaks. Good job!</p>

<p>This broke lots of random dialogs in Meld, and prevented people from doing
things like&hellip; saving files.</p>

<h2>Dialogs in general</h2>

<p>Spacing, padding and outline drawing have all changed, so all our dialogs now
look awful. They&rsquo;ll have to be adjusted to look okay with GTK+ 3.14 which
will, by extension, make them look awful with everything pre-3.14.</p>

<h2>Size calculation changes</h2>

<p>In 3.10, the way GtkBox expand properties propagate changed. Now granted, it
was weirdly broken before, but this behaviour change made a couple of bits of
Meld&rsquo;s preferences dialog unusable.</p>

<h1>Life as a GTK+ app developer</h1>

<p>When Meld 3.12 was released, my plan was to get a really quick 3.14 release
done and out, and try for another quick release to sync up Meld and GNOME on
3.16. Instead, I&rsquo;ve spent most of my very limited spare time plugging holes
in various regressions.</p>

<p>Accusations that level X of a technology stack doesn&rsquo;t really understand what
it&rsquo;s like for level Y of the technology stack aren&rsquo;t exactly new. Some vocal
members of the community will complain about this in any stack, and GTK+ is
no different. However, this is the first release cycle that I&rsquo;ve spent hours
actively cursing breakages in the GTK+ stack. I hope it&rsquo;s a blip.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Kai Willadsen</span></span>

      








  


<time datetime="2015-01-04T07:09:00+10:00" pubdate data-updated="true">Jan 4<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/meld/'>Meld</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://kaiw.github.com/blog/2015/01/04/life-as-a-gtk-app-developer/" data-via="" data-counturl="http://kaiw.github.com/blog/2015/01/04/life-as-a-gtk-app-developer/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/24/meld-3-12/" title="Previous Post: What's new in Meld 3.12">&laquo; What's new in Meld 3.12</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/04/life-as-a-gtk-app-developer/">Life as a GTK+ App Developer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/24/meld-3-12/">What's New in Meld 3.12</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/29/features-people-have-never-asked-for/">Meld Features That People Have Never Asked For</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/15/meld-18/">What's New in Meld 1.8?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/12/mailing-list/">The Tale of the Unwatched List</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Kai Willadsen -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ambivalentcertainty';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://kaiw.github.com/blog/2015/01/04/life-as-a-gtk-app-developer/';
        var disqus_url = 'http://kaiw.github.com/blog/2015/01/04/life-as-a-gtk-app-developer/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
